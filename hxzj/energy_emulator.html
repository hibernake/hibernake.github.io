<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'/>
<script src='jquery-1.11.2.min.js'></script>
<script>
    function new_char_data(name, kind, property, skill) {
        var char_data = new Object();
        char_data.get_name = function(){
            return name;
        };
        char_data.get_kind = function(){
            return kind;
        };
        char_data.get_hp = function(){
            return property[0];
        };
        char_data.get_att = function(){
            return property[1];
        };
        char_data.get_def = function(){
            return property[2];
        };
        return char_data;
    }
    
    var CHARS = [
        new_char_data('纯情小湿婆', '盾', [40609, 746, 1319], null),
        new_char_data('苏妲己', '盾', [53058, 1109, 2114], null),
        new_char_data('小青', '盾', [57317, 1228, 1994], null),
        new_char_data('百花', '盾', [39126, 1038, 3453], null),
        new_char_data('鼓贝', '盾', [45890, 1184, 2488], null),
        new_char_data('糖心天邪鬼', '盾', [39992, 972, 2974], null),
        new_char_data('33娘', '盾', [53313, 1090, 2074], null), 
        
        new_char_data('帕凡提', '弓', [18082, 1874, 1406], null),
        new_char_data('极裕仙君', '弓', [30220, 1702, 1205], null),
        new_char_data('穷奇', '弓', [16482, 1981, 1072], null),
        new_char_data('卡莉', '弓', [17806, 2129, 1110], null),
        new_char_data('苏莉亚', '弓', [17811, 1863, 1288], null),
        new_char_data('万魔小湿婆', '弓', [32912, 1774, 1500], null),
        new_char_data('歌姬瓜', '弓', [14547, 1488, 1014], null), 
        
        new_char_data('应龙', '弓', [23326, 1063, 836], null), 
        new_char_data('小湿婆', '弓', [13288, 1546, 622], null), 
        
        new_char_data('孙悟空', '剑', [37596, 1463, 1682], null),
        new_char_data('花嫁苏妲己', '剑', [38103, 1561, 1733], null),
        new_char_data('娜吒', '剑', [30498, 1900, 1129], null),
        new_char_data('天邪鬼', '剑', [38035, 1710, 1763], null),
        new_char_data('偶像白虎', '剑', [30460, 1269, 2290], null), 
        
        new_char_data('迦叶仙尊', '剑', [22682, 1060, 1583], null), 
        new_char_data('赵公萌', '剑', [27445, 1063, 975], null), 
        new_char_data('华阳', '剑', [27551, 1144, 916], null), 
        new_char_data('狂欢卡莉', '剑', [21462, 1400, 667], null),    
    ];
    
    function get_char_by_name(name){
        for(var i in CHARS){
            var char = CHARS[i];
            if(char.get_name()==name){
                return char;
            }
        }
    }
    
    var selected_name = null;
    
    function create_chars(){
        $('#shield_kind').click(function(){
            $('#shield_chars').show();
            $('#sword_chars').hide();
            $('#bow_chars').hide();
        });
        
        $('#sword_kind').click(function(){
            $('#shield_chars').hide();
            $('#sword_chars').show();
            $('#bow_chars').hide();
        });
        
        $('#bow_kind').click(function(){
            $('#shield_chars').hide();
            $('#sword_chars').hide();
            $('#bow_chars').show();
        });
        
        function create_char(char_name) {
            var c = document.createElement('li');
            c.innerText = char_name;

            c.onmouseover = function(){
                if(c != selected_name){
                    c.className = 'charin';
                }
            };
            c.onmouseout = function(){
                if(c != selected_name){
                    c.className = '';
                }
            };
            c.onclick = function(){
                if(selected_name != null){
                    selected_name.className = '';
                }
                if(selected_name!=c){
                    selected_name = c;
                    c.className = 'charselect';
                }
                else{
                    selected_name = null;
                    c.className = '';
                }
                $('#data_show').empty();
                var char = get_char_by_name(char_name);
                
                function show_item(info) {
                    var item = document.createElement('li');
                    item.innerText = info;
                    $('#data_show').append(item);
                }
                show_item(char.get_name());
                show_item('血量:' + char.get_hp());
                show_item('攻击:' + char.get_att());
                show_item('防御:' + char.get_def());
            };
            c.className = 'charout';
            return c;
        }
        for(var i in CHARS){
            var char = CHARS[i];
            var c = create_char(char.get_name());
            if(char.get_kind()=='盾'){
                $('#shield_chars').append(c);
            }
            else if(char.get_kind()=='剑'){
                $('#sword_chars').append(c);
            }
            if(char.get_kind()=='弓'){
                $('#bow_chars').append(c);
            }
        }
    }
    
	
	function load(){
        create_chars();
	}
    
    window.onload = load;
</script>

<link type="text/css" rel="stylesheet" href="energy_emulator.css">

</head>
<body>
<h1> 幻想战姬回能研究 </h1>
<p> by Hibernake </p>

<p> 回能速查器 </p>


<table>
    <tr>
        <td class='title' colspan='2'>
            守方
        </td>
        <td class='title' colspan="2">
            攻方
        </td>
    </tr>
    <tr>
        <td>
            战姬1
        </td>
        <td>
            战姬2
        </td>
        <td>
            战姬3
        </td>
        <td>
            战姬4
        </td>
    </tr>
    <tr>
        <td>
            战姬5
        </td>
        <td>
            战姬6
        </td>
        <td>
            战姬7
        </td>
        <td>
            战姬8
        </td>
    </tr>
</table>


<div style='overflow:hidden'>
    <ul style="list-style:none; margin:6px; padding: 0px;">
        <li class='box' id='shield_kind'>盾</label>
        <li class='box' id='sword_kind'>剑</label>
        <li class='box' id='bow_kind'>弓</label>
    </ul>
    <ul id="shield_chars">
        
    </ul>
    <ul id='sword_chars'>
        
    </ul>
    <ul id="bow_chars">
        
    </ul>
    <ul id='data_show'></ul>
</div>


<div id='result' class='box m font'>
    待显示
</div>


</body>
</html>