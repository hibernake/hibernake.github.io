<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"></meta>

<style>
	body {
		background-color: #f1f1f1;
	}
</style>
	<script src="jquery-1.11.2.min.js"></script>
<script>

var data = [
	['名称', '星级', '类型', '职业', '攻击', '防御', '生命', '暴击', '出处', '专属'],
	['忠君四像之义', '2', '防具', '盾', '', '3', '4', '', '灵玉冒险', '四不像'],
	['水晶戒指', '3', '武器', '弓', '2', '', '', '1', '4H灵玉冒险', '？'],
	['巫祭发饰', '3', '防具', '盾', '', '3', '8', '', '8H灵玉冒险', '天宇舞姬'],
	['紧箍咒', '3', '防具', '剑', '2', '3', '5', '', '8H灵玉冒险', '孙悟空'],
	['太极', '3', '武器', '盾', '6', '', '', '', '8H灵玉冒险', '太上姥姥'],
	['贪婪之刃', '3', '武器', '剑', '7', '', '', '', '16H灵玉冒险', '饕餮'],
	['出云意志', '3', '防具', '弓', '', '3', '7', '', '16H灵玉冒险', '出云'],
	['玉宫兔布偶', '3', '武器', '弓', '6', '2', '', '', '16H灵玉冒险', '嫦娥'],
	['智者剑', '4', '武器', '剑', '7', '', '', '2', '4H判币冒险', '不动明姬'],
	['洪泽鸣枪', '4', '武器', '弓', '8', '', '', '2', '8H判币冒险', '应龙'],
	['祈之御币', '4', '武器', '盾', '8', '', '2', '', '8H判币冒险', '须世理'], 
	
	['定海神针', '3', '武器', '剑', '2', '', '', '5', '御守商店', '孙悟空'],
	['封神罩', '2', '防具', '剑', '', '6', '', '', '御守商店', '太公望'],
	['混天绫', '3', '防具', '剑', '', '5', '5', '', '御守商店', '娜吒'],
	['白虎预言', '3', '防具', '盾', '4', '', '', '3', '御守商店', '白虎'],
	['忠君四像之仁', '2', '防具', '盾', '', '4', '3', '', '御守商店', '四不像'],
	['象神福德牌', '3', '防具', '盾', '2', '', '7', '', '御守商店', '迦妮莎'],
	['凶煞之气息', '3', '武器', '弓', '', '', '', '8', '御守商店', '墨麟？'],
	['绮翊围巾', '2', '防具', '弓', '1', '2', '3', '', '御守商店', '混沌'],
	['京华云舞扇', '3', '武器', '弓', '5', '', '', '2', '御守商店', '出云'],
	
	['仁义之气息', '2', '武器', '盾', '3', '', '', '3', 'W1', '青麟'], 
	['青麟环', '3', '防具', '盾', '', '3', '7', '', 'W1H', '青麟'],
	['秘裘颈环', '3', '防具', '弓', '3', '', '7', '', 'W2H/御守商店', '穷奇'], 
	['赤色领带', '2', '防具', '剑', '', '', '6', '', 'W3', '刑天剑姬'], 
	['刑戚黑刀', '3', '武器', '剑', '5', '', '', '3', 'W3H', '刑天剑姬'],
	['不锈钢叉', '2', '武器', '剑', '3', '', '', '2', 'W4/御守商店', '饕餮'],
	['缎带发饰', '3', '防具', '弓', '3', '3', '5', '', 'W4H', '桃巫'],
	['生之稻谷', '2', '武器', '盾', '1', '', '', '5', 'W5/御守商店', '栉名稻姬'],
	['稻神结', '3', '防具', '盾', '', '5', '4', '', 'W5', '栉名稻姬'],
	['水掩腰环', '3', '防具', '剑', '', '2', '8', '', 'W6', '伐萝娜'],
	['洪绳戟', '3', '武器', '剑', '4', '', '', '4', 'W6H', '伐萝娜'],
	
	['蒙面口罩', '1', '防具', '盾', '', '', '5', '', '活动奖励', '忍者柳生？'], // 15-05-05送
	['手里剑', '1', '武器', '盾', '1', '', '', '2', '剧情模式', '忍者柳生？'],
	['速符咒', '1', '武器', '弓', '1', '', '', '2', '剧情模式', '申公喵？'],
	
	['时令花冠', '4', '防具', '盾', '3', '4', '4', '2', '签到奖励', '百花'], // 15-04
	['镇田御守', '5', '防具', '盾', '2', '6', '', '6', '限时图白瓜', '产土小神？'],
	
	['猫型锤', '5', '武器', '剑', '8', '', '', '', '', '赤尤'],
	['草薙剑', '5', '武器', '剑', '6', '', '', '', '3', '天照御姬'],
	['天从云剑', '5', '武器', '剑', '', '', '', '', '', '须佐'],
	['情人捧花', '5', '武器', '剑', '', '', '', '', '', '花嫁苏妲己'],
	['八咫镜', '5', '防具', '剑', '', '', '', '', '', '天照御姬'],
	['金刚轮', '5', '', '剑', '', '', '', '', '', '不动明姬'],
	['玻璃之鞋', '5', '防具', '剑', '', '', '', '', '图鉴奖励', '花嫁苏妲己'],
	['吉岁和伞', '5', '武器', '盾', '', '', '', '', '', '产土小神'],
	['象神槌', '5', '武器', '盾', '8', '', '', '', '', '迦妮莎'],
	['愚者布偶', '5', '武器', '盾', '', '', '', '', '', '纯情小湿婆'],
	['加油型喵酱', '5', '武器', '盾', '', '', '', '', '', '甜心申公喵'],
	['小淑女礼帽', '5', '防具', '盾', '3', '7', '8', '', '', '纯情小湿婆'],
	['化形之镜', '5', '武器', '弓', '', '', '', '', '', '玉藻'],
	['根源之弓', '5', '武器', '弓', '', '', '', '', '', '小湿婆'],
	['暴行之骷', '5', '武器', '弓', '', '', '', '', '', '卡莉'],
	['日有真杖', '5', '武器', '弓', '', '', '', '', '', '苏莉亚'],
	['魂唤之镰', '5', '武器', '弓', '8', '', '', '2', '', '万魔小湿婆'],
	['雷神喵', '5', '防具', '弓', '', '', '', '', '', '申公喵'],
	['迷虎斗篷', '5', '防具', '弓', '', '', '', '', '', '穷奇'],
	['烛龙麟', '5', '防具', '弓', '', '', '', '', 'V7礼包', '烛阴'],
	['冻寒羽织', '5', '防具', '弓', '', '', '', '', '', '仙鹤姬'],
	['三眼骷髅', '5', '防具', '弓', '4', '7', '', '3', '', '万魔小湿婆'],
	['斩鬼镇邪之剑', '4', '武器', '剑', '5', '2', '', '2', 'V4礼包', '钟傀姬'],
	['玫引乌纱冠', '4', '防具', '剑', '', '', '', '', 'V7礼包', '钟傀姬'],
	['盏珠串', '4', '防具', '剑', '', '', '', '', '', '须佐'],
	['惩戒索', '4', '防具', '剑', '', '', '', '', '图鉴奖励', '不动明姬'],
	['冬雷云雨环', '4', '防具', '剑', '', '', '', '', '', '茵朵萝'],
	['御寒型战甲', '4', '防具', '剑', '', '', '', '', '', '礼愿迦叶'],
	['黑天手铐', '4', '防具', '剑', '2', '5', '5', '', '', '狂欢卡莉'],
	['盏珠串', '4', '防具', '剑', '', '', '', '', '', '须佐'],
	['苏生篮', '4', '武器', '盾', '', '', '', '', '', '百花仙子'],
	['祈愿钟铃', '4', '武器', '盾', '2', '4', '3', '', '', '星愿四不像'],
	['隆运笔', '4', '武器', '盾', '', '', '', '', 'V7礼包', '鼓贝'],
	['诡册红绳结', '4', '防具', '盾', '', '', '', '', '', '苏妲己'],
	['许愿颈饰', '4', '防具', '盾', '', '', '', '', '', '星愿四不像'],
	['月魂假面', '4', '防具', '盾', '', '', '', '', '', '月读'],
	['土兽护盾', '4', '防具', '盾', '', '', '', '', '', '玄武'],
	['八咫颈饰', '4', '防具', '盾', '', '', '', '', '', '祈愿天照'],
	['照天庆典帽', '4', '防具', '盾', '', '', '', '', '', '祈愿天照'],
	['天命舞环', '4', '武器', '盾', '', '', '', '', '', '天宇舞姬'],
	['墨麟令咒', '4', '武器', '弓', '', '', '', '', '', '墨麟'],
	['名刀炙焰', '4', '武器', '弓', '', '', '', '', '', '朱雀'],
	['名刀烈焰', '4', '武器', '弓', '', '', '', '', '', '朱雀'],
	['宇宙魔方', '4', '武器', '弓', '', '', '', '', 'V7礼包', '毗湿奴'],
	['粉蝶马甲', '4', '防具', '弓', '', '', '', '', '', '桃巫'],
	['雨绳结', '4', '防具', '弓', '', '', '', '', '', '应龙'],
	['缚之链', '4', '防具', '弓', '', '', '', '', '', '小湿婆'],
	['嗜血翅', '4', '防具', '弓', '', '', '', '', '', '卡莉'],
	['日曜头饰', '4', '防具', '弓', '', '', '', '', '', '苏莉亚'],
	['苦行果腰包', '4', '防具', '弓', '', '', '', '', '', '帕凡提'],
	['风火轮', '3', '武器', '剑', '', '', '', '', '', '娜吒'],
	['一元复始', '3', '武器', '剑', '', '', '', '', '', '赵公萌'],
	['天运之笔', '3', '武器', '剑', '', '', '', '', '', '祭主仙姬'],
	['雷之金刚杵', '3', '武器', '剑', '', '', '', '', '', '茵朵萝'],
	['怨怒炮弹', '3', '武器', '剑', '', '', '', '', '', '狂欢卡莉'],
	['乾坤环', '3', '防具', '剑', '', '', '', '', '', '娜吒'],
	['兽裂干具', '3', '防具', '剑', '', '', '', '', '', '刑天战姬'],
	['招财元宝', '3', '防具', '剑', '', '', '', '', '', '赵公萌'],
	['行运紫金葫', '3', '防具', '剑', '', '', '', '', '', '祭主仙姬'],
	['庆典礼物袋', '3', '防具', '剑', '', '', '', '', '', '礼愿迦叶'],
	['化形之骨', '3', '武器', '盾', '', '', '', '', '', '苏妲己'],
	['白马旗', '3', '武器', '盾', '', '', '', '', '', '弼马温'],
	['八尺琼魂', '3', '武器', '盾', '', '', '', '', '', '月读'],
	['轻御浴衣', '3', '防具', '盾', '', '', '', '', '', '太上姥姥'],
	['水阙仙班纹', '3', '防具', '盾', '', '', '', '', '', '林默'],
	['引雾仙灯', '3', '防具', '盾', '', '', '', '', '', '林默'],
	['爱迷头冠', '3', '防具', '盾', '', '', '', '', '', '情人太上姥姥'],
	['紫姬羽衣', '3', '防具', '盾', '', '', '', '', '', '须世理'],
	['玄冥帽', '3', '防具', '盾', '', '', '', '', '', '玄武'],
	['白哗引路灯', '3', '防具', '盾', '', '', '', '', '', '燃灯玉藻前'],
	['狐狸面具', '3', '防具', '盾', '', '', '', '', '', '燃灯玉藻前'],
	['点金帐文卷', '3', '防具', '盾', '', '', '', '', '', '鼓贝'],
	['甜蜜喵围裙', '3', '防具', '盾', '', '', '', '', '', '甜蜜苏莉亚'],
	['月宫兔布偶', '3', '武器', '弓', '', '', '', '', '', '黑嫦娥'],
	['旱谷', '3', '武器', '弓', '', '', '', '', '', '旱神姬'],
	['帝王曝', '3', '武器', '弓', '', '', '', '', '', '旱神姬'],
	['灵视之芽', '3', '武器', '弓', '', '', '', '', '', '烛阴'],
	['纺羽线纱', '3', '武器', '弓', '', '', '', '', '', '仙鹤姬'],
	['雪晶神链', '3', '武器', '弓', '', '', '', '', '', '帕凡提'],
	['玉娥胸针', '3', '防具', '弓', '', '', '', '', '', '嫦娥'],
	['月娥胸针', '3', '防具', '弓', '', '', '', '', '', '黑嫦娥'],
	['玉娥胸针', '3', '防具', '弓', '', '', '', '', '', '嫦娥'],
	['此世铃', '3', '防具', '弓', '', '', '', '', '', '玉藻'],
	['此世莲印', '3', '防具', '弓', '', '', '', '', '', '毗湿奴'],
];

function ac(line){
	return true;
}

function show(id, data){
	var table = document.createElement('table');
	var table_head = document.createElement('div');
	
	$('#'+id).empty();
	$('#'+id).append(table_head);
	$('#'+id).append(table); 
	
	for(var i in data){
		var tr = document.createElement('tr');
		table.appendChild(tr);
		
		for(var j in data[i]){
			var td = document.createElement('td');
			td.innerText = '' + data[i][j];
			tr.appendChild(td);
		}
	}
	
	function CheckClick(check, col){
		function show_col(value){
			for(var row in table.rows){
				if(table.rows[row].cells && table.rows[row].cells[col]){
					table.rows[row].cells[col].style.display=value;
				}
			}
		}
		this.func = function(){
			if(check.checked){
				show_col('');
			}
			else{
				show_col('none');
			}
		};
	}
	
	
	var cond0 = [
		[
			function(line){return line[2]=='武器';},
			function(line){
				return line[2]=='防具';
			}, 
		],  
		[
			function(line){return line[3]=='弓';},
			function(line){return line[3]=='盾';},
			function(line){return line[3]=='剑';},
		], 
	];
	
	var cond1 = [
		[true, true], 
		[true, true, true], 
	];
	
	function check_line(line){
		for(var i in cond0){
			var flag = false;
			for(var j in cond0[i]){
				if(cond0[i][j](line) && cond1[i][j]){
					flag = true;
				}
			}
			if(flag == false){
				return false;
			}
		} 
		return true;
	}
	
	function show_rows(){
		for(var row=1; row<table.rows.length; row++){
			if(check_line(data[row])){
				table.rows[row].style.display='';
			}
			else{
				table.rows[row].style.display='none';
			}

		}
	}
	
	
	function NewCheckClickRow(check, i, j){
		var func = new Object();

		func.func = function(){
			if(check.checked){
				cond1[i][j] = true;
			}
			else{
				cond1[i][j] = false;
			}
			show_rows();
		};
		return func;
	}
	
	function show_by_col(){
		function create_element(text, i, j){
			var label = document.createElement('label');
			var check = document.createElement('input');
			check.setAttribute('type', 'checkbox');
			check.setAttribute('checked', 'check');
			
			var text_node = document.createTextNode(text);
			
			label.appendChild(check);
			label.appendChild(text_node);
			table_head.appendChild(label);
			
			var click_func = NewCheckClickRow(check, i, j);
			label.onclick = click_func.func;
		}
		
		create_element('武器', 0, 0 );
		create_element('防具', 0, 1 );
		
		create_element('弓', 1, 0 );
		create_element('盾', 1, 1 );
		create_element('剑', 1, 2 );
		
		var br = document.createElement('BR');
		table_head.appendChild(br);

	}
	
	show_by_col();
	
	
	for(var i in data[0]){
		var label = document.createElement('label');
		
		var check = document.createElement('input');
		check.setAttribute('type', 'checkbox');
		check.setAttribute('checked', 'check');
		
		var text = document.createTextNode(data[0][i]);
		
		label.appendChild(check);
		label.appendChild(text);
		table_head.appendChild(label);
		
		var click_func = new CheckClick(check, i); 
		label.onclick = click_func.func;
	}
}

window.onload = function(){
	show('data', data, ac);
};
</script>

<style>
	table, tr, td {
		border: 1px solid #999;
	}
</style>

</head>

<body>
<div id = 'data'></div>
</body>

</html>